let body = document.querySelector(".page-body"),
  containerPopup = document.querySelector(".popup-container"),
  popupOpenClose = function (e, o) {
    if (e) {
      e = window.pageYOffset;
      body.classList.add("page-overflow"),
        (body.style.top = "-" + e + "px"),
        o.classList.add("popup-visible");
    } else {
      let e = document.querySelector(".popup-visible");
      e.classList.remove("popup-visible"),
        body.classList.remove("page-overflow"),
        window.scroll(0, scrollPosition);
    }
  },
  payButtons = document.querySelectorAll(".button-pay"),
  orderPopup = document.querySelector(".order-popup");
for (i = 0; i < payButtons.length; i++) {
  let e = payButtons[i];
  e.addEventListener("click", function (e) {
    e.preventDefault(), popupOpenClose(!0, orderPopup);
  });
}
let closeButtons = document.querySelectorAll(".close-popup");
for (let o = 0; o < closeButtons.length; o++) {
  let e = closeButtons[o];
  e.addEventListener("click", function () {
    popupOpenClose(!1);
  });
}
document.addEventListener("keydown", function (e) {
  27 === e.keyCode && popupOpenClose(!1);
}),
  containerPopup.addEventListener("click", function () {
    popupOpenClose(!1);
  });
let contactButton = document.querySelector(".contacts-button"),
  contactPopup = document.querySelector(".contact-popup");
contactButton.addEventListener("click", function (e) {
  e.preventDefault(), popupOpenClose(!0, contactPopup);
});
let mapButton = document.querySelector(".map-button"),
  mapPopup = document.querySelector(".map-popup");
mapButton.addEventListener("click", function (e) {
  e.preventDefault(), popupOpenClose(!0, mapPopup);
});
